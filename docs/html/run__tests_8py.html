<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MAGMA: /home/tomov/trunk/tools/magma-1.6.0/testing/run_tests.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>/home/tomov/trunk/tools/magma-1.6.0/testing/run_tests.py File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="author"><dt><b>Author:</b></dt><dd>Mark Gates</dd></dl>
<p>Script to run testers with various matrix sizes. Small sizes are chosen around block sizes (e.g., 30...34 around 32) to detect bugs that occur at the block size, and the switch over from LAPACK to MAGMA code. Tall and wide sizes are chosen to exercise different aspect ratios, e.g., nearly square, 2:1, 10:1, 1:2, 1:10. The -h or --help option provides a summary of the options.</p>
<p>Batch vs. interactive mode -------------------------- When output is redirected to a file, it runs in batch mode, printing a short summary to stderr on the console and all other output to the file. For example:</p>
<p>./run_tests.py --lu --precision s --small &gt; lu.txt testing_sgesv_gpu -c ok testing_sgetrf_gpu -c2 ok testing_sgetf2_gpu -c ok testing_sgetri_gpu -c ** 45 tests failed testing_sgetrf_mgpu -c2 ok testing_sgesv -c ok testing_sgetrf -c2 ok</p>
<p>**************************************************************************************************** summary **************************************************************************************************** 282 tests in 7 commands passed 45 tests failed accuracy test 0 errors detected (crashes, CUDA errors, etc.) routines with failures: testing_sgetri_gpu -c</p>
<p>When output is to console (tty), it runs in interactive mode, pausing after each test. At the pause, typing "M" re-makes and re-runs that tester, while typing enter goes to the next tester. For example (some output suppressed with ... for brevity):</p>
<p>./run_tests.py --lu --precision s --small **************************************************************************************************** ./testing_sgesv_gpu -c --range 1:20:1 ... **************************************************************************************************** N NRHS CPU GFlop/s (sec) GPU GFlop/s (sec) ||B - AX|| / N*||A||*||X|| ================================================================================ 1 1 --- ( --- ) 0.00 ( 0.00) 9.26e-08 ok 2 1 --- ( --- ) 0.00 ( 0.00) 1.32e-08 ok 3 1 --- ( --- ) 0.00 ( 0.00) 8.99e-09 ok ... ok [enter to continue; M to make and re-run]</p>
<p>**************************************************************************************************** ./testing_sgetri_gpu -c --range 1:20:1 ... **************************************************************************************************** % MAGMA 1.4.0 svn compiled for CUDA capability &gt;= 3.0 % CUDA runtime 6000, driver 6000. MAGMA not compiled with OpenMP. % device 0: GeForce GT 750M, 925.5 MHz clock, 2047.6 MB memory, capability 3.0 Usage: ./testing_sgetri_gpu [options] [-h|--help]</p>
<p>N CPU GFlop/s (sec) GPU GFlop/s (sec) ||R||_F / (N*||A||_F) ================================================================= 1 0.00 ( 0.00) 0.00 ( 0.00) 6.87e+01 failed 2 0.00 ( 0.00) 0.00 ( 0.00) 2.41e+00 failed 3 0.01 ( 0.00) 0.00 ( 0.00) 1.12e+00 failed ... ** 45 tests failed [enter to continue; M to make and re-run]</p>
<p>...</p>
<p>**************************************************************************************************** summary **************************************************************************************************** 282 tests in 7 commands passed 45 tests failed accuracy test 0 errors detected (crashes, CUDA errors, etc.) routines with failures: testing_sgetri_gpu -c</p>
<p>What tests are run ------------------ The --blas, --aux, --chol, --lu, --qr, --syev, --sygv, --geev, --svd options run particular sets of tests. By default, all tests are run.</p>
<p>The --start option skips all testers before the given one, then continues with testers from there. This is helpful to restart a batch. For example:</p>
<p>./run_tests.py --start testing_spotrf</p>
<p>If specific testers are named on the command line, only those are run. For example:</p>
<p>./run_tests.py testing_spotrf testing_sgetrf</p>
<p>The -p/--precision option controls what precisions are tested, the default being "sdcz" for all four precisions. For example, to run single and double:</p>
<p>./run_tests.py -p sd</p>
<p>The -s/--small, -m/--medium, -l/--large options control what sizes are tested, the default being all three sets. -s/--small does small tests, N &lt; 300. -m/--medium does medium tests, N &lt; 1000. -l/--large does large tests, N &gt; 1000. For example, running small and medium tests:</p>
<p>./run_tests.py -s -m</p>
<p>What is checked ------------------ The --memcheck option runs cuda-memcheck. This is very helpful for finding memory bugs (reading &amp; writing outside allocated memory). It is, however, slow.</p>
<p>The --tol option sets the tolerance to verify accuracy. This is 30 by default, which may be too tight for some testers. Setting it somewhat higher (e.g., 50 or 100) filters out spurious accuracy failures. </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Nov 2014 for MAGMA by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
